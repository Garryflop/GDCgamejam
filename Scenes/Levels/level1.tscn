[gd_scene load_steps=27 format=3 uid="uid://crybua5mtx5ho"]

[ext_resource type="Script" uid="uid://cd6tjb2f03wms" path="res://Scripts/Menu/level.gd" id="1_ilsv2"]
[ext_resource type="PackedScene" uid="uid://c620yqni6f55i" path="res://Scenes/Menu/pause_menu.tscn" id="2_4f2fw"]
[ext_resource type="Texture2D" uid="uid://117buwehvn0l" path="res://Assets/Textures/Crosshair.png" id="3_8r8ce"]
[ext_resource type="Script" uid="uid://by2k5050k8i7f" path="res://addons/virtual_joystick/virtual_joystick_instantiator.gd" id="4_nqasx"]
[ext_resource type="FontFile" uid="uid://pw7ufq020i4s" path="res://Assets/Fonts/EBGaramond-VariableFont_wght.ttf" id="5_ryjqc"]
[ext_resource type="Script" path="res://Scripts/Profiler.gd" id="6_xe7un"]
[ext_resource type="Texture2D" uid="uid://cmoncv7ugodom" path="res://Assets/Textures/overcast_soil_puresky_1k.hdr" id="7_v3vqe"]
[ext_resource type="PackedScene" uid="uid://dlnc0h005d142" path="res://Scenes/player.tscn" id="8_bvs0b"]
[ext_resource type="Script" path="res://Scripts/Player.gd" id="9_syfhk"]
[ext_resource type="Material" uid="uid://5fgk0s61fs4g" path="res://Assets/Materials&Shaders/level.tres" id="10_u45xj"]
[ext_resource type="Texture2D" uid="uid://6jruflh85uyn" path="res://Assets/Textures/bobx.png" id="11_ay16s"]
[ext_resource type="PackedScene" uid="uid://cuhdblrqx8tly" path="res://Scenes/Menu/console.tscn" id="12_4f2fw"]
[ext_resource type="PackedScene" uid="uid://hks7pxviimea" path="res://Scenes/Stul.tscn" id="13_8r8ce"]

[sub_resource type="Gradient" id="Gradient_s1eon"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_rxcld"]
gradient = SubResource("Gradient_s1eon")

[sub_resource type="GradientTexture2D" id="GradientTexture2D_j3yal"]
gradient = SubResource("Gradient_s1eon")
fill_from = Vector2(0.384615, 0.269231)
fill_to = Vector2(0.67094, 0.709402)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_i5435"]
gradient = SubResource("Gradient_s1eon")
fill_from = Vector2(0.384615, 0.269231)
fill_to = Vector2(0.633027, 0.270642)

[sub_resource type="LabelSettings" id="LabelSettings_r0lyn"]
font = ExtResource("5_ryjqc")
font_size = 35

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_i5435"]
panorama = ExtResource("7_v3vqe")
energy_multiplier = 0.26

[sub_resource type="Sky" id="Sky_ewbpn"]
sky_material = SubResource("PanoramaSkyMaterial_i5435")

[sub_resource type="Environment" id="Environment_jbixu"]
background_mode = 2
sky = SubResource("Sky_ewbpn")
ambient_light_source = 3
ambient_light_color = Color(0.60933, 0.60933, 0.60933, 1)
reflected_light_source = 2
fog_enabled = true
fog_density = 0.0433
fog_sky_affect = 0.633

[sub_resource type="CapsuleMesh" id="CapsuleMesh_ryjqc"]
radius = 0.996
height = 2.982
radial_segments = 4
rings = 1

[sub_resource type="SphereShape3D" id="SphereShape3D_j3yal"]
radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_r0lyn"]
shading_mode = 2
albedo_texture = ExtResource("11_ay16s")
uv1_scale = Vector3(2, 2, 2)
uv1_triplanar = true

[sub_resource type="SphereMesh" id="SphereMesh_c5s4o"]
radius = 0.25
height = 0.5

[sub_resource type="SphereShape3D" id="SphereShape3D_4f2fw"]
radius = 2.4485

[node name="Level" type="Node3D"]
script = ExtResource("1_ilsv2")
pause_menu_packed = ExtResource("2_4f2fw")

[node name="InputLayout" type="CanvasLayer" parent="."]

[node name="BoxContainer" type="BoxContainer" parent="InputLayout"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="CenterContainer" type="CenterContainer" parent="InputLayout/BoxContainer"]
layout_mode = 2
size_flags_vertical = 4

[node name="Sprite2D" type="Sprite2D" parent="InputLayout/BoxContainer/CenterContainer"]
texture = ExtResource("3_8r8ce")

[node name="Virtual Joystick" type="Control" parent="InputLayout"]
modulate = Color(1, 1, 1, 0.105882)
layout_mode = 3
anchors_preset = 0
offset_left = -5.0
offset_top = 313.0
offset_right = 31.0
offset_bottom = 353.0
scale = Vector2(0.575, 0.575)
script = ExtResource("4_nqasx")
metadata/_custom_type_script = "uid://by2k5050k8i7f"
metadata/_edit_use_anchors_ = true

[node name="GrabButton" type="TouchScreenButton" parent="InputLayout"]
position = Vector2(447, 222)
texture_normal = SubResource("GradientTexture2D_rxcld")
action = "pick"

[node name="JumpButton" type="TouchScreenButton" parent="InputLayout"]
position = Vector2(526, 220)
texture_normal = SubResource("GradientTexture2D_j3yal")
action = "jump"

[node name="PauseButton" type="TouchScreenButton" parent="InputLayout"]
position = Vector2(17, 11)
texture_normal = SubResource("GradientTexture2D_i5435")

[node name="Label" type="Label" parent="InputLayout"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -151.0
offset_bottom = 83.0
grow_horizontal = 0
text = "FPS:"
label_settings = SubResource("LabelSettings_r0lyn")
script = ExtResource("6_xe7un")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_jbixu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.963526, 0.263502, -0.0467342, -0.0584827, -0.0369154, 0.997606, 0.261146, 0.963952, 0.0509794, 1.26172, 4.49234, 2.35118)
light_energy = 0.739
light_angular_distance = 55.27
light_bake_mode = 1
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("8_bvs0b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.00002, 14.1093)
collision_mask = 23
script = ExtResource("9_syfhk")
walk_speed = 2.0

[node name="World" type="Node3D" parent="."]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="World"]
use_collision = true
collision_layer = 4

[node name="CSGBox3D" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.379272, 0, 28.2399)
size = Vector3(39.7463, 0.1, 76.4798)
material = ExtResource("10_u45xj")

[node name="CSGBox3D3" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.192, 3, 4.66061)
size = Vector3(7.44543, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D4" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.229607, 3, 0.511)
size = Vector3(8.90479, 6, 1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D6" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -1.32367, 2.9, 9.91963)
size = Vector3(3, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D7" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 1.40736, 2.9, 9.93062)
size = Vector3(2.97803, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D8" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 4.26312, 2.9, 11.3696)
size = Vector3(5.7666, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D9" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 7.17943, 2.9, 16.228)
size = Vector3(9.80885, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D19" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(-1, 0, -8.74226e-08, 0, 1, 0, 8.74226e-08, 0, -1, 15.0758, 1.4, 16.7146)
size = Vector3(11.0708, 3, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D10" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, -4.1568, 2.92195, 11.3766)
size = Vector3(5.71323, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D11" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, -7.01846, 2.9, 16.2139)
size = Vector3(9.78053, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D12" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0.0560102, 2.9, 21.0992)
size = Vector3(14.2337, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGMesh3D2" type="CSGMesh3D" parent="World/CSGCombiner3D/CSGBox3D12"]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, -2.6906, -1.77582, -0.0941544)
operation = 2
mesh = SubResource("CapsuleMesh_ryjqc")

[node name="CSGBox3D5" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 4.682, 3, 4.64072)
size = Vector3(7.4624, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D2" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.194219, 3.051, 8.34665)
material_override = ExtResource("10_u45xj")
flip_faces = true
size = Vector3(8.865, 6, 0.1)
material = ExtResource("10_u45xj")

[node name="CSGMesh3D" type="CSGMesh3D" parent="World/CSGCombiner3D/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.112281, -2.13799, 0.343895)
operation = 2
mesh = SubResource("CapsuleMesh_ryjqc")

[node name="CSGBox3D15" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(0.999999, -0.00171042, 0, 0.00171042, 0.999999, 0, 0, 0, 1, 1.63449, 0.988038, 16.9746)
size = Vector3(1, 2, 1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D18" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(0.999999, -0.00171042, 0, 0.00171042, 0.999999, 0, 0, 0, 1, -4.87048, 1.44438, 17.6666)
size = Vector3(4.39658, 2.91089, 2.50781)
material = ExtResource("10_u45xj")

[node name="CSGBox3D16" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(0.999999, -0.00171042, 0, 0.00171042, 0.999999, 0, 0, 0, 1, 0.0877712, 1.16974, 18.0947)
size = Vector3(1, 2.3634, 1)
material = ExtResource("10_u45xj")

[node name="CSGBox3D17" type="CSGBox3D" parent="World/CSGCombiner3D"]
transform = Transform3D(0.999999, -0.00171042, 0, 0.00171042, 0.999999, 0, 0, 0, 1, -1.47443, 1.36185, 16.8642)
size = Vector3(1, 2.74762, 1)
material = ExtResource("10_u45xj")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="World/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.03303, 0, 18.4008)
polygon = PackedVector2Array(0, 0, 0, 2, 1, 2, 3.35779, -0.00937605)
depth = 2.2
material = ExtResource("10_u45xj")

[node name="SharXD" type="RigidBody3D" parent="." groups=["rigids"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2771, 2.21758, 12.9781)
collision_layer = 2
collision_mask = 62
contact_monitor = true
max_contacts_reported = 10
linear_damp_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="SharXD"]
shape = SubResource("SphereShape3D_j3yal")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SharXD"]
material_override = SubResource("StandardMaterial3D_r0lyn")
mesh = SubResource("SphereMesh_c5s4o")

[node name="Console" parent="." instance=ExtResource("12_4f2fw")]

[node name="zone" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 10.1634)

[node name="CollisionShape3D" type="CollisionShape3D" parent="zone"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.924803, 0)
shape = SubResource("SphereShape3D_4f2fw")

[node name="zone2" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.0581, -1.19209e-07, 16.9316)

[node name="CollisionShape3D" type="CollisionShape3D" parent="zone2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.924803, 0)
shape = SubResource("SphereShape3D_4f2fw")

[node name="StulXD7" parent="." instance=ExtResource("13_8r8ce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.07246, 0.0500007, 1.18963)

[connection signal="released" from="InputLayout/PauseButton" to="." method="_on_pause_button_released"]
[connection signal="body_entered" from="zone" to="." method="_on_zone_body_entered"]
[connection signal="body_entered" from="zone2" to="." method="_on_zone_2_body_entered"]
